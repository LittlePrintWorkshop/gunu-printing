다음 수정사항을 script.js에 적용해주세요:

1. 4241번 줄 수정 (변수 추가):
   기존:
   const POPUP_NOTICE_HIDE_KEY = 'popup-notice-hide-date';
   
   수정:
   const POPUP_NOTICE_HIDE_KEY = 'popup-notice-hide-date';
   const POPUP_SHOWN_IDS_KEY = 'popup-shown-ids';
   let allPopups = [];
   let currentPopupIndex = 0;

2. 4257번 줄 수정 (API 엔드포인트 변경):
   기존:
   const response = await apiCall('/api/popup-notice', { method: 'GET' });
   
   수정:
   const response = await apiCall('/api/admin/popup-notice', { method: 'GET' });

3. 4266-4276번 줄 수정 (팝업 로드 로직):
   기존:
   // API 응답 형식: {success: true, popup_notice: {...}}
   const popup = result.popup_notice;
   
   if (popup && popup.is_active) {
     console.log('팝업 표시:', popup);
     showPopupNoticeModal(popup);
   } else {
     console.log('팝업이 비활성화 상태이거나 없음');
   }
   
   수정:
   allPopups = (result.popup_notices || []).filter(p => p.is_active);
   
   if (allPopups.length === 0) {
     console.log('활성화된 팝업이 없음');
     return;
   }
   
   const shownData = localStorage.getItem(POPUP_SHOWN_IDS_KEY);
   let shownIds = [];
   if (shownData) {
     const parsed = JSON.parse(shownData);
     const today = new Date().toISOString().split('T')[0];
     if (parsed.date === today) {
       shownIds = parsed.ids || [];
     }
   }
   
   allPopups = allPopups.filter(p => !shownIds.includes(p.id));
   
   if (allPopups.length > 0) {
     console.log(`${allPopups.length}개의 팝업 표시 시작`);
     currentPopupIndex = 0;
     showCurrentPopup();
   }

4. loadAndShowPopupNotice 함수 끝 다음에 추가:

function showCurrentPopup() {
  if (currentPopupIndex >= allPopups.length) return;
  const popup = allPopups[currentPopupIndex];
  console.log(`팝업 표시 (${currentPopupIndex + 1}/${allPopups.length}):`, popup);
  showPopupNoticeModal(popup);
  markPopupAsShown(popup.id);
}

function markPopupAsShown(popupId) {
  const today = new Date().toISOString().split('T')[0];
  const shownData = localStorage.getItem(POPUP_SHOWN_IDS_KEY);
  let shownIds = [];
  if (shownData) {
    const parsed = JSON.parse(shownData);
    if (parsed.date === today) {
      shownIds = parsed.ids || [];
    }
  }
  if (!shownIds.includes(popupId)) {
    shownIds.push(popupId);
  }
  localStorage.setItem(POPUP_SHOWN_IDS_KEY, JSON.stringify({date: today, ids: shownIds}));
}
